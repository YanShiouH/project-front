import{L as m,M as k,o as h,P as x,Q as n,S as i,T as s,c as a,as as y,K as V,V as b,ao as S,a2 as _,a8 as p,ap as w,an as B,aa as v,x as A,ad as P,R as L,Z as T,W as N,ab as R,H as j}from"./index-3919ad30.js";import{V as D}from"./VContainer-b90d38bd.js";import{V as f,a as E}from"./VRow-33110aff.js";const F={__name:"CultureCard",props:{_id:{type:String,default:()=>""},title:{type:String,default:()=>""},content:{type:String,default:()=>""},image:{type:String,default:()=>""},publish:{type:Boolean,default:()=>!0}},setup(r){const o=r,l=m(),e=k(),d=h(()=>!e.profile||!e.profile[0]||!e.profile[0].likedArticles?!1:e.profile[0].likedArticles.some(t=>t.toString()===o._id)),c=async()=>{try{const{data:t}=await v.post("/users/like",{culture:o._id});e.profile=t.result,e.profile[0].likedArticles.some(u=>u.toString()===o._id)&&l({text:"Article liked!",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(t){console.log(t),l({text:t.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}},g=t=>t.replace(/<h2>/g,"").replace(/<\/h2>/g,"").replace(/<img[^>]*>/g,"");return(t,u)=>{const C=x("router-link");return n(),i(B,null,{default:s(()=>[a(y,{class:"transform"},{default:s(()=>[a(V,{class:"btn-style",color:d.value?"red":"accent",onClick:c,icon:"mdi-heart"},null,8,["color"])]),_:1}),a(C,{to:"/culture/"+r._id,class:"text-decoration-none"},{default:s(()=>[a(b,{src:r.image,cover:"",height:"200"},null,8,["src"]),a(S,{class:"text-primary white-space"},{default:s(()=>[_(p(r.title),1)]),_:1}),a(w,{class:"text-black text-adjust"},{default:s(()=>[_(p(g(r.content)),1)]),_:1})]),_:1},8,["to"])]),_:1})}}};const H=R("h1",{class:"text-center"},"Culture Corner",-1),U={__name:"CultureCorner",setup(r){const o=m(),l=A([]);return(async()=>{try{const{data:e}=await P.get("/culture");l.value.push(...e.result)}catch(e){o({text:e.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(e,d)=>(n(),i(D,null,{default:s(()=>[a(E,{class:"max-width-1080"},{default:s(()=>[a(f,{cols:"12"},{default:s(()=>[H]),_:1}),(n(!0),L(N,null,T(l.value,c=>(n(),i(f,{cols:"12",sm:"6",lg:"4",key:c._id},{default:s(()=>[a(F,j(c,{class:"culture-card"}),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{U as default};
