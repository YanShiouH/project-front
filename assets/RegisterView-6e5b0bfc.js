import{_ as P,L as y,aq as C,ar as k,P as q,Q as A,S as B,T as o,c as a,a9 as I,X as e,as as M,at as u,ai as w,K as R,a2 as v,ao as U,ap as E}from"./index-3cb9fed5.js";import{v as F}from"./index-574964dc.js";import{c as T,a as d,b as N,u as $,d as n,V as L}from"./index.esm-b321ce24.js";import{V as D}from"./VContainer-87b58e20.js";import{a as _,V as K}from"./VRow-b1417ece.js";import"./_commonjsHelpers-725317a4.js";const O=l=>(U("data-v-52d07f4c"),l=l(),E(),l),Q=O(()=>w("h1",{class:"text-center"},"Sign-up",-1)),X={class:"text-center"},j={__name:"RegisterView",setup(l){const f=y(),h=C(),V=T({account:d().required("Account is required").min(4,"Account should have at least 4 characters").max(20,"Account should not exceed 20 characters"),email:d().required("Email is required").test("isEmail","Invalid email format",t=>F.isEmail(t)),password:d().required("Password is required").min(4,"Password should have at least 4 characters").max(20,"Password should not exceed 20 characters"),passwordConfirm:d().required("Password is required").min(4,"Password should have at least 4 characters").max(20,"Password should not exceed 20 characters").oneOf([N("password")],"Passwords do not match")}),{handleSubmit:x,isSubmitting:g}=$({validationSchema:V}),c=n("account"),i=n("email"),m=n("password"),p=n("passwordConfirm"),b=x(async t=>{try{await k.post("/users",{account:t.account,email:t.email,password:t.password}),f({text:"Registration successful",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),h.push("/login")}catch(s){f({text:s.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}});return(t,s)=>{const S=q("router-link");return A(),B(D,null,{default:o(()=>[a(K,{class:"max-width-512"},{default:o(()=>[a(_,{cols:"12"},{default:o(()=>[Q]),_:1}),a(I),a(_,{cols:"12"},{default:o(()=>[a(L,{disabled:e(g),onSubmit:M(e(b),["prevent"])},{default:o(()=>[a(u,{modelValue:e(c).value.value,"onUpdate:modelValue":s[0]||(s[0]=r=>e(c).value.value=r),"error-messages":e(c).errorMessage.value,label:"Account",counter:"","max-length":"20"},null,8,["modelValue","error-messages"]),a(u,{modelValue:e(i).value.value,"onUpdate:modelValue":s[1]||(s[1]=r=>e(i).value.value=r),"error-messages":e(i).errorMessage.value,label:"Email",type:"email"},null,8,["modelValue","error-messages"]),a(u,{modelValue:e(m).value.value,"onUpdate:modelValue":s[2]||(s[2]=r=>e(m).value.value=r),"error-messages":e(m).errorMessage.value,label:"Password",counter:"","max-length":"20",type:"password"},null,8,["modelValue","error-messages"]),a(u,{modelValue:e(p).value.value,"onUpdate:modelValue":s[3]||(s[3]=r=>e(p).value.value=r),"error-messages":e(p).errorMessage.value,label:"Confirm Password",counter:"","max-length":"20",type:"password"},null,8,["modelValue","error-messages"]),w("div",X,[a(R,{type:"submit",color:"primary","text-center":"",loading:e(g)},{default:o(()=>[v("Sign Up")]),_:1},8,["loading"])])]),_:1},8,["disabled","onSubmit"])]),_:1}),a(_,{cols:"12",class:"text-center"},{default:o(()=>[v(" Already have a Taealam Account?"),a(S,{to:"/login",class:"login-link"},{default:o(()=>[v(" Log In")]),_:1})]),_:1})]),_:1})]),_:1})}}},Z=P(j,[["__scopeId","data-v-52d07f4c"]]);export{Z as default};
