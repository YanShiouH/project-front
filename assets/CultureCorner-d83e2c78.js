import{L as m,M as k,o as C,P as h,Q as n,S as u,T as a,c as t,as as x,K as y,V,ao as b,a2 as _,a8 as p,ap as S,an as w,aa as B,x as v,ad as A,R as P,Z as L,W as T,ab as N,H as j}from"./index-72c35440.js";import{V as R}from"./VContainer-91954621.js";import{V as f,a as D}from"./VRow-0f34ee86.js";const E={__name:"CultureCard",props:{_id:{type:String,default:()=>""},title:{type:String,default:()=>""},content:{type:String,default:()=>""},image:{type:String,default:()=>""},publish:{type:Boolean,default:()=>!0}},setup(r){const o=r,l=m(),e=k(),i=C(()=>!e.profile||!e.profile[0]||!e.profile[0].likedArticles?!1:e.profile[0].likedArticles.some(s=>s.toString()===o._id)),c=async()=>{try{const{data:s}=await B.post("/users/like",{culture:o._id});e.profile=s.result,e.profile[0].likedArticles.some(d=>d.toString()===o._id)&&l({text:"Article liked!",showCloseButton:!1,snackbarProps:{timeout:1e4,color:"green",location:"bottom"}})}catch(s){console.log(s),l({text:s.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(s,d)=>{const g=h("router-link");return n(),u(w,null,{default:a(()=>[t(x,{class:"justify-end"},{default:a(()=>[t(y,{color:i.value?"red":"primary",onClick:c,icon:"mdi-heart"},null,8,["color"])]),_:1}),t(g,{to:"/culture/"+r._id,class:"text-decoration-none"},{default:a(()=>[t(V,{src:r.image,cover:"",height:"200"},null,8,["src"]),t(b,{class:"text-primary white-space"},{default:a(()=>[_(p(r.title),1)]),_:1}),t(S,{class:"text-black text-adjust"},{default:a(()=>[_(p(r.content),1)]),_:1})]),_:1},8,["to"])]),_:1})}}};const F=N("h1",{class:"text-center"},"Culture Corner",-1),Q={__name:"CultureCorner",setup(r){const o=m(),l=v([]);return(async()=>{try{const{data:e}=await A.get("/culture");l.value.push(...e.result)}catch(e){o({text:e.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(e,i)=>(n(),u(R,null,{default:a(()=>[t(D,{class:"max-width-1080"},{default:a(()=>[t(f,{cols:"12"},{default:a(()=>[F]),_:1}),(n(!0),P(T,null,L(l.value,c=>(n(),u(f,{cols:"12",sm:"6",lg:"4",key:c._id},{default:a(()=>[t(E,j(c,{class:"culture-card"}),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{Q as default};
