import{L as _,M as g,o as C,P as h,Q as c,S as i,T as a,c as t,as as V,K as x,V as y,ao as S,a2 as p,a8 as f,ap as b,an as B,aa as w,x as v,ad as A,a9 as P,R as L,Z as T,W as N,ab as R,a6 as D,a7 as j}from"./index-a8ce216d.js";import{V as z}from"./VContainer-2aeaea17.js";import{V as m,a as E}from"./VRow-9c2501b5.js";const F={__name:"CultureCard",props:{_id:{type:String,default:()=>""},title:{type:String,default:()=>""},content:{type:String,default:()=>""},image:{type:String,default:()=>""},publish:{type:Boolean,default:()=>!0}},setup(o){const s=o,l=_(),e=g(),u=C(()=>!e.profile||!e.profile[0]||!e.profile[0].likedArticles?!1:e.profile[0].likedArticles.some(r=>r.toString()===s._id)),n=async()=>{try{const{data:r}=await w.post("/users/like",{culture:s._id});e.profile=r.result,e.profile[0].likedArticles.some(d=>d.toString()===s._id)&&l({text:"Article liked!",showCloseButton:!1,snackbarProps:{timeout:1e4,color:"green",location:"bottom"}})}catch(r){console.log(r),l({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(r,d)=>{const k=h("router-link");return c(),i(B,null,{default:a(()=>[t(V,{class:"justify-end"},{default:a(()=>[t(x,{color:u.value?"red":"primary",onClick:n,icon:"mdi-heart"},null,8,["color"])]),_:1}),t(y,{src:o.image,cover:"",height:"200"},null,8,["src"]),t(S,null,{default:a(()=>[t(k,{to:"/culture/"+o._id,class:"text-primary text-decoration-none"},{default:a(()=>[p(f(o.title),1)]),_:1},8,["to"])]),_:1}),t(b,null,{default:a(()=>[p(f(o.content),1)]),_:1})]),_:1})}}},K=R("h1",{class:"text-center"},"Culture Corner",-1),W={__name:"CultureCorner",setup(o){const s=_(),l=v([]);return(async()=>{try{const{data:e}=await A.get("/culture");l.value.push(...e.result)}catch(e){s({text:e.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(e,u)=>(c(),i(z,null,{default:a(()=>[t(E,{class:"max-width-1080"},{default:a(()=>[t(m,{cols:"12"},{default:a(()=>[K]),_:1}),t(P),(c(!0),L(N,null,T(l.value,n=>(c(),i(m,{cols:"12",sm:"6",lg:"4",key:n._id},{default:a(()=>[t(F,D(j(n)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{W as default};
